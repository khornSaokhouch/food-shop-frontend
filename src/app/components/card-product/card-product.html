<a
  [routerLink]="['/product', product.id]" 
  class="relative group block bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-300"
>
  <div class="h-48 overflow-hidden">
      <img 
          [src]="product.image" 
          [alt]="product.name" 
          class="w-full h-full object-cover object-center transition-transform duration-500 group-hover:scale-110"
      />
  </div>

  <div class="p-4">
    
    <div class="flex items-center mt-1 text-yellow-500 mb-1">
      <ng-container *ngFor="let star of [1,2,3,4,5]">
        <svg
          *ngIf="product.rating && product.rating >= star"
          class="w-4 h-4"
          fill="currentColor" viewBox="0 0 20 20"
        >
          <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.946a1 1 0 0 0 .95.69h4.148c.969 0 1.371 1.24.588 1.81l-3.36 2.44a1 1 0 0 0-.364 1.118l1.287 3.945c.3.921-.755 1.688-1.54 1.118l-3.36-2.44a1 1 0 0 0-1.175 0l-3.36 2.44c-.784.57-1.838-.197-1.539-1.118l1.286-3.945a1 1 0 0 0-.364-1.118l-3.36-2.44c-.783-.57-.38-1.81.588-1.81h4.148a1 1 0 0 0 .951-.69l1.286-3.946z"/>
        </svg>
        <svg
          *ngIf="!product.rating || product.rating < star"
          class="w-4 h-4 text-gray-300"
          fill="currentColor" viewBox="0 0 20 20"
        >
          <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.946a1 1 0 0 0 .95.69h4.148c.969 0 1.371 1.24.588 1.81l-3.36 2.44a1 1 0 0 0-.364 1.118l1.287 3.945c.3.921-.755 1.688-1.54 1.118l-3.36-2.44a1 1 0 0 0-1.175 0l-3.36 2.44c-.784.57-1.838-.197-1.539-1.118l1.286-3.945a1 1 0 0 0-.364-1.118l-3.36-2.44c-.783-.57-.38-1.81.588-1.81h4.148a1 1 0 0 0 .951-.69l1.286-3.946z"/>
        </svg>
      </ng-container>
    </div>

    <h2 class="text-xl font-bold text-gray-900 truncate" [title]="product.name">{{ product.name }}</h2>
    <p class="text-gray-500 text-sm truncate">{{ product.brand || 'DelishEats' }}</p>

    <div class="flex justify-between items-center mt-3 pt-2 border-t border-gray-100">
      <p class="text-2xl font-extrabold text-green-600">${{ product.price.toFixed(2) }}</p>
      
      <p class="text-sm font-medium" 
         [class.text-red-500]="product.stock < 10" 
         [class.text-green-600]="product.stock >= 10"
      >
        {{ product.stock > 0 ? product.stock + ' in stock' : 'Out of Stock' }}
      </p>
    </div>
  </div>
</a>